(function(){var e=function(){var e="../src/globals";window.__skate||(window.__skate={observer:undefined,registry:{}});var t=window.__skate;return{get default(){return t}}}(),t=function(){var e="../src/constants",t="data-skate-ignore";return{get ATTR_IGNORE(){return t}}}(),n=function(){var e="../src/data",t={get:function(e,t){if(e.__SKATE_DATA)return e.__SKATE_DATA[t]},set:function(e,t,n){return e.__SKATE_DATA||(e.__SKATE_DATA={}),e.__SKATE_DATA[t]=n,e}};return{get default(){return t}}}(),r=function(){function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function i(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},1))}}function s(e){var t=e;while(t&&t!==document){if(t.hasAttribute(n))return t;t=t.parentNode}}function o(e,t){var n=Object.getOwnPropertyNames(t),r=n.length;for(var i=0;i<r;i++){var s=n[i];if(e[s]===undefined){var o=Object.getOwnPropertyDescriptor(t,s),u=o.get||o.set||!o.writable||!o.enumerable||!o.configurable;u?Object.defineProperty(e,s,o):e[s]=t[s]}}return e}function u(e,t){for(var n in e)r(e,n)&&t(e[n],n)}var e="../src/utils",n=t.ATTR_IGNORE;return{get hasOwn(){return r},get debounce(){return i},get getClosestIgnoredElement(){return s},get inherit(){return o},get objEach(){return u}}}(),i=function(){function l(e,t){return e.nodeType!==1?!1:e.contains?e.contains(t):o.call(e,t)}function c(e,t){return{addedNodes:null,attributeName:null,attributeNamespace:null,nextSibling:null,oldValue:null,previousSibling:null,removedNodes:null,target:e,type:t||"childList"}}function h(e,t){var n=e.childNodes;if(!n)return;var r=n.length;for(var i=0;i<r;i++){var s=n[i];t(s),h(s,t)}}function p(e){if(u&&!a)return new u(e);this.callback=e,this.elements=[]}var e="../src/mutation-observer",t=r,n=t.debounce,i=t.objEach,s=window.HTMLElement.prototype,o=window.HTMLElement.prototype.contains,u=window.MutationObserver||window.WebkitMutationObserver||window.MozMutationObserver,a=!1,f=window.navigator.userAgent.indexOf("Trident")>-1;p.fixIe=function(){if(!f||a)return;var e=Object.getOwnPropertyDescriptor(s,"innerHTML");Object.defineProperty(s,"innerHTML",{get:function(){return e.get.call(this)},set:function(t){h(this,function(e){var t=document.createEvent("MutationEvent");t.initMutationEvent("DOMNodeRemoved",!0,!1,null,null,null,null,null),e.dispatchEvent(t)}),e.set.call(this,t)}}),a=!0},Object.defineProperty(p,"isFixingIe",{get:function(){return a}}),p.prototype={observe:function(e,t){function r(e){p.push(e),v()}function i(e){var t=e.target;if(!t)return;var n=e.type,r=t.parentNode;if(!o(r))return;var i=a&&n==="DOMNodeRemoved",s=f&&l(f,t);if(!i&&s)return;(!h||h.target!==r)&&d.push(h=c(r)),n==="DOMNodeInserted"?(h.addedNodes||(h.addedNodes=[]),h.addedNodes.push(t)):(h.removedNodes||(h.removedNodes=[]),h.removedNodes.push(t)),f=t}function s(n){return t.attributes&&(t.subtree||n===e)}function o(n){return t.childList&&(t.subtree||n===e)}var u=this,f,h,p=[],d=[],v=n(function(){var e=p.length;for(var t=0;t<e;t++)i(p[t]);u.callback(d),p=[],d=[],f=undefined,h=undefined}),m={},g=[],y=n(function(){var e=g.length;u.callback(g),g.splice(0,e)}),b={target:e,options:t,insertHandler:r,removeHandler:r,attributeHandler:function(e){var n=e.target;if(!s(n))return;var r=e.attrName,i=e.prevValue,o=e.newValue,u=c(n,"attributes");u.attributeName=r,t.attributeOldValue&&(u.oldValue=m[r]||i||null),g.push(u),t.attributeOldValue&&(m[r]=o),y()}};return this.elements.push(b),t.childList&&(e.addEventListener("DOMNodeInserted",b.insertHandler),e.addEventListener("DOMNodeRemoved",b.removeHandler)),t.attributes&&e.addEventListener("DOMAttrModified",b.attributeHandler),this},disconnect:function(){return i(this.elements,function(e){e.target.removeEventListener("DOMNodeInserted",e.insertHandler),e.target.removeEventListener("DOMNodeRemoved",e.removeHandler),e.target.removeEventListener("DOMAttrModified",e.attributeHandler)}),this.elements=[],this}};var d=p;return{get default(){return d}}}(),s=function(){function s(e){var t=e.classList;if(t)return t;var n=e.attributes;return n["class"]&&n["class"].nodeValue.split(/\s+/)||[]}function o(e,t){return i(n.registry,e)&&n.registry[e].type.indexOf(t)>-1}var t="../src/registry",n=e.default,i=r.hasOwn,u={clear:function(){return n.registry={},this},getForElement:function(e){var t=e.attributes,r=t.length,i=[],u=t.is,a=u&&(u.value||u.nodeValue),f=e.tagName.toLowerCase(),l=a||f,c,h;o(l,skate.types.TAG)&&(c=n.registry[l],h=c.extends,a?f===h&&i.push(c):h||i.push(c));for(var p=0;p<r;p++){var d=t[p].nodeName;o(d,skate.types.ATTR)&&(c=n.registry[d],h=c.extends,(!h||f===h)&&i.push(c))}var v=s(e),m=v.length;for(var g=0;g<m;g++){var y=v[g];o(y,skate.types.CLASS)&&(c=n.registry[y],h=c.extends,(!h||f===h)&&i.push(c))}return i},has:function(e){return i(n.registry,e)},set:function(e,t){if(this.has(e))throw new Error('A definition of type "'+t.type+'" with the ID of "'+e+'" already exists.');return n.registry[e]=t,this},remove:function(e){return this.has(e)&&delete n.registry[e],this}};return{get default(){return u}}}(),o=function(){function v(e,t,n){return u.get(e,t.id+":lifecycle:"+n)}function m(e,t,n,r){u.set(e,t.id+":lifecycle:"+n,!!r)}function g(e,t,n){return v(e,t,n)?!0:(m(e,t,n,!0),!1)}function y(e){var t=e.split(" ");return{name:t.shift(),delegate:t.join(" ")}}function b(e,t){function n(n,r,i,s){var o;t.attributes&&t.attributes[r]&&typeof t.attributes[r][n]=="function"?o=t.attributes[r][n]:t.attributes&&typeof t.attributes[r]=="function"?o=t.attributes[r]:typeof t.attributes=="function"&&(o=t.attributes),o&&o(e,{type:n,name:r,newValue:i,oldValue:s})}var r,i=e.attributes,s=[],o=i.length,u=new a(function(e){e.forEach(function(e){var t,r=e.attributeName,s=i[r];s&&e.oldValue===null?t="created":s&&e.oldValue!==null?t="updated":s||(t="removed"),n(t,r,s?s.value||s.nodeValue:undefined,e.oldValue)})});u.observe(e,{attributes:!0,attributeOldValue:!0});for(r=0;r<o;r++)s.push(i[r]);for(r=0;r<o;r++){var f=s[r];n("created",f.nodeName,f.value||f.nodeValue)}}function w(e,t){function n(t,n){return function(r){if(!n)return t(e,r,e);var i=r.target;while(i&&i!==document&&i!==e.parentNode){if(d.call(i,n))return t(e,r,i);i=i.parentNode}}}if(typeof t.events!="object")return;h(t.events,function(t,r){var i=y(r);e.addEventListener(i.name,n(t,i.delegate))})}function E(e,t){if(g(e,t,"created"))return;c(e,t.prototype),t.template&&t.template(e),w(e,t),b(e,t),t.created&&t.created(e)}function S(e,t){if(g(e,t,"attached"))return;e.removeAttribute(t.unresolvedAttribute),e.setAttribute(t.resolvedAttribute,""),t.attached&&t.attached(e)}function x(e,t){t.detached&&t.detached(e),m(e,t,"attached",!1)}function T(e,t){E(e,t),S(e,t)}function N(e){var t=e.length;for(var n=0;n<t;n++){var r=e[n];if(r.nodeType!==1||r.attributes[o])continue;var i=f.getForElement(r),s=i.length;for(var u=0;u<s;u++)T(r,i[u]);var a=r.childNodes,l=a.length;l&&N(a)}}function C(e){var t=e.length;for(var n=0;n<t;n++){var r=e[n];if(r.nodeType!==1)continue;C(r.childNodes);var i=f.getForElement(r),s=i.length;for(var o=0;o<s;o++)x(r,i[o])}}var e="../src/lifecycle",o=t.ATTR_IGNORE,u=n.default,a=i.default,f=s.default,l=r,c=l.inherit,h=l.objEach,p=window.HTMLElement.prototype,d=p.matches||p.msMatchesSelector||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector;return{get triggerCreated(){return E},get initElements(){return N},get removeElements(){return C}}}(),u=function(){function c(e){var t=e.length;for(var n=0;n<t;n++){var r=e[n],i=r.addedNodes,s=r.removedNodes;i&&i.length&&!l(i[0].parentNode)&&u(i),s&&s.length&&a(s)}}function h(){var e=new f(c);return e.observe(document,{childList:!0,subtree:!0}),e}var t="../src/document-observer",n=e.default,s=o,u=s.initElements,a=s.removeElements,f=i.default,l=r.getClosestIgnoredElement,p={register:function(e){return e&&(f.fixIe(),this.unregister()),n.observer||(n.observer=h()),this},unregister:function(){return n.observer&&(n.observer.disconnect(),n.observer=undefined),this}};return{get default(){return p}}}(),a=function(){var e="../src/version",t="0.11.1";return{get default(){return t}}}(),f=function(){function y(e){function t(){var n,r=e.extends,i=e.id;return r?(n=document.createElement(r),n.setAttribute("is",i)):n=document.createElement(i),e.prototype=t.prototype,f(n,e),n}return t.prototype=e.prototype,t}function b(e,n){n=v(n||{},b.defaults),n.id=e;if(h.has(n.id))throw new Error('A definition of type "'+n.type+'" with the ID of "'+e+'" already exists.');h.set(n.id,n),g(),t.register(n.remove);if(n.type.indexOf(b.types.TAG)>-1)return y(n)}var e="../src/skate",t=u.default,n=o,f=n.triggerCreated,l=n.initElements,c=i.default,h=s.default,p=r,d=p.debounce,v=p.inherit,m=a.default,g=d(function(){l(document.getElementsByTagName("html"))});b.init=function(e){if(!e)return;return typeof e=="string"&&(e=document.querySelectorAll(e)),l(typeof e.length=="undefined"?[e]:e),e},b.types={ANY:"act",ATTR:"a",CLASS:"c",NOATTR:"ct",NOCLASS:"at",NOTAG:"ac",TAG:"t"},b.version=m,b.defaults={attributes:undefined,events:undefined,"extends":"",id:"",prototype:{},resolvedAttribute:"resolved",template:undefined,type:b.types.ANY,unresolvedAttribute:"unresolved"},window.skate=b,typeof define=="function"&&define("../bower_components/skatejs/dist/skate.js",[],function(){return b}),typeof module=="object"&&(module.exports=b);var w=b;return{get default(){return w}}}()})(),define("clone.js",[],function(){function e(t){var n,r,i;n=Array.isArray(t)?[]:{};for(i in t)r=t[i],n[i]=typeof r=="object"?e(r):r;return n}return e}),define("simulation.js",["./clone.js"],function(e){return function(t,n){function s(e,t){var n=r.length,i=r[0].length,s=0;for(var o=-1;o<=1;o++)for(var u=-1;u<=1;u++){if(o===0&&u===0)continue;var a=e+o,f=t+u;a=a<0?a+n:a>=n?a-n:a,f=f<0?f+i:f>=i?f-i:f,s+=r[a][f].alive?1:0}return s}var r=[[]],i=.15;return{start:function(){this.resize(t,n)},step:function(){var t=e(r);for(var n=0;n<r.length;n++)for(var i=0;i<r[n].length;i++)r[n][i].alive?s(n,i)<2?t[n][i].alive=!1:s(n,i)>=2&&s(n,i)<=3?(t[n][i].alive=!0,t[n][i].touched=!0):s(n,i)>3&&(t[n][i].alive=!1):s(n,i)===3&&(t[n][i].alive=!0,t[n][i].touched=!0);r=t},getBoard:function(){return r},resize:function(e,t){var n=(r||[]).length,s=(r[0]||[]).length,o=e-n,u=t-s;if(o<0)for(var a=0;a<-o;a++)r.pop();else for(var a=0;a<o;a++){var f=[];for(var l=0;l<s;l++){var c=Math.random()<i;f.push({alive:c,touched:c})}r.push(f)}if(u<0)for(var a=0;a<e;a++)for(var l=0;l<-u;l++)r[a].pop();else for(var a=0;a<e;a++)for(var l=0;l<u;l++){var c=Math.random()<i;r[a].push({alive:c,touched:c})}}}}}),define("debounce.js",[],function(){return function(e,t){var n=null;return function(){var r=this,i=arguments;clearTimeout(n),n=setTimeout(function(){e.apply(r,i)},t)}}}),define("life",["../bower_components/skatejs/dist/skate.js","./simulation.js","./debounce.js"],function(e,t,n){function r(e){function o(){setInterval(function(){n.step(),u()},i)}function u(){var e=n.getBoard();for(var t=0;t<e.length;t++)for(var r=0;r<e[t].length;r++)f(t,r,e[t][r])}function a(){var t=getComputedStyle(e,null).getPropertyValue("width"),n=getComputedStyle(e,null).getPropertyValue("height");return{noUnits:function(){return{width:t.replace("px",""),height:n.replace("px","")}},width:t,height:n}}function f(e,t,n){s.fillStyle=n.alive?l().alive:n.touched?l().touched:l().dead,s.fillRect(e*r,t*r,r,r)}function l(){return{alive:e.hasAttribute("data-alive-color")?e.getAttribute("data-alive-color"):"rgb(220, 220, 220)",touched:e.hasAttribute("data-touched-color")?e.getAttribute("data-touched-color"):"rgb(245, 245, 245)",dead:e.hasAttribute("data-dead-color")?e.getAttribute("data-dead-color"):"white"}}var n,r=e.hasAttribute("data-pixel-size")?e.getAttribute("data-pixel-size"):8,i=e.hasAttribute("data-ms-per-frame")?e.getAttribute("data-ms-per-frame"):1e3/30,s;return{init:function(){n=new t(Math.floor(a().noUnits().width/r),Math.floor(a().noUnits().height/r)),n.start(),this.resize(),s=e._canvas.getContext("2d"),o(e)},resize:function(){var t=a();e._canvas.style.width=t.width,e._canvas.style.height=t.height,e._canvas.setAttribute("width",t.noUnits().width),e._canvas.setAttribute("height",t.noUnits().height),n.resize(Math.floor(a().noUnits().width/r),Math.floor(a().noUnits().height/r))}}}window.onresize=function(){n(function(){var e=document.querySelectorAll("life");for(i=0;i<e.length;++i)e[i]._life.resize()},50)},e("life",{created:function(e){var t=document.createElement("canvas");e.appendChild(t),e._canvas=t},attached:function(e){var t=new r(e);e._life=t,t.init()},prototype:{resize:function(){this._life.resize()}}})});